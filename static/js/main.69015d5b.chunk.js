(this["webpackJsonpeveryday-action"]=this["webpackJsonpeveryday-action"]||[]).push([[0],{151:function(e,t,n){e.exports=n(285)},156:function(e,t,n){},157:function(e,t,n){},158:function(e,t,n){},159:function(e,t,n){},160:function(e,t,n){},161:function(e,t,n){},162:function(e,t,n){},165:function(e,t,n){},166:function(e,t,n){},167:function(e,t,n){},168:function(e,t,n){},169:function(e,t,n){},186:function(e,t){},283:function(e,t,n){},284:function(e,t,n){},285:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),c=n(16),r=n.n(c),l=(n(156),n(157),n(158),n(159),n(160),n(161),function(e){return i.a.createElement("li",{className:"NavigationItem"},i.a.createElement("a",{href:e.link,className:e.active?"active":null},e.children))}),o=function(e){return i.a.createElement("ul",{className:"NavigationItems"},i.a.createElement(l,{link:"/",active:!0},"\u4e3b\u9875"))},s=function(){return i.a.createElement("header",{className:"Navigation"},i.a.createElement("nav",null,i.a.createElement(o,null)))},m=function(e){return i.a.createElement("div",null,i.a.createElement(s,null),i.a.createElement("main",{className:"Content"},e.children))},d=n(44),u=n(7),p=n(26),f=n(27),h=n(29),b=n(28),E=(n(162),n(4)),v=n.n(E),g={itemTypes:["\u8fd0\u52a8","\u751f\u6d3b","\u5b66\u4e60","\u5de5\u4f5c","\u5a31\u4e50"],items:{1593920420073:{id:"1593920420073",created_timestamp:"1593920420073",content:"\u8dd1\u6b65",type:"\u8fd0\u52a8",due_date:v()().day(1),done:!1},1593920427447:{id:"1593920427447",created_timestamp:"1593920420073",content:"\u6df7\u5408\u6709\u6c27",type:"\u8fd0\u52a8",due_date:null,done:!1},1593920442267:{id:"1593920442267",created_timestamp:"1593920420073",content:"\u6d17\u7259",type:"\u751f\u6d3b",due_date:null,done:!1},1593988570469:{id:"1593988570469",created_timestamp:"1593988570469",content:"\u770b\u4e66",type:"\u5b66\u4e60",due_date:v()().day(-2),done:!1},1594592079699:{id:"1594592079699",created_timestamp:"1594592079699",content:"\u6700\u540e\u751f\u8fd8\u80052",type:"\u5a31\u4e50",due_date:v()().day(30),done:!1}},columns:{"column-1":{id:"column-1",title:"\u611f\u5174\u8da3",taskIds:["1593920420073","1593920427447"],itemToSubmit:{id:null,content:"\u65b0\u4efb\u52a1",type:null,created_timestamp:null,done:!1}},"column-2":{id:"column-2",title:"\u884c\u52a8\u4e2d",taskIds:["1593920442267","1593988570469","1594592079699"],itemToSubmit:{id:null,content:"\u65b0\u4efb\u52a1",type:null,created_timestamp:null,done:!1}},"column-3":{id:"column-3",title:"\u5b8c\u6210",taskIds:[],itemToSubmit:{id:null,content:"\u65b0\u4efb\u52a1",type:null,created_timestamp:null,done:!1}}},columnOrder:["column-1","column-2","column-3"],editingItem:!1,itemUnderEditing:{},dueDatePickFocused:!1},k=(n(164),n(43)),y=(n(165),n(166),function(e){return i.a.createElement("div",{className:"ColumnHeader"},e.children,i.a.createElement("p",null,"(",e.itemNum,")"))}),C=(n(167),function(e){return i.a.createElement("div",{className:"TodoForm"},i.a.createElement("form",{onSubmit:e.submitted},i.a.createElement("input",{placeholder:e.value,value:e.value,onChange:e.inputChanged}),i.a.createElement("button",{type:"submit"},"+")))}),I=(n(168),function(e){Object(h.a)(n,e);var t=Object(b.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return Object(f.a)(n,[{key:"render",value:function(){return i.a.createElement("div",{className:"TodoItems"},i.a.createElement("h4",null,this.props.key),i.a.createElement("ul",null,this.props.children))}}]),n}(a.Component)),O=n(299),j=n(143),D=n.n(j),S=n(145),N=n.n(S),_=n(144),H=n.n(_),T=n(146),w=n.n(T),P=n(147),F=n.n(P),U=n(76),x=n.n(U),B=(n(169),function(e){Object(h.a)(n,e);var t=Object(b.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return Object(f.a)(n,[{key:"render",value:function(){var e,t,n=this;switch(this.props.item.type){case"\u8fd0\u52a8":e=i.a.createElement(D.a,null);break;case"\u751f\u6d3b":e=i.a.createElement(H.a,null);break;case"\u5b66\u4e60":e=i.a.createElement(N.a,null);break;case"\u5de5\u4f5c":e=i.a.createElement(w.a,null);break;case"\u5a31\u4e50":e=i.a.createElement(F.a,null);break;default:e=i.a.createElement(O.a,null,"star")}var a=v()()>this.props.item.due_date;return t=this.props.item.due_date&&!a?i.a.createElement("div",{className:"DueDate good"},i.a.createElement(x.a,{fontSize:"small"}),i.a.createElement("p",null,this.props.item.due_date.format("L"))):this.props.item.due_date&&a?i.a.createElement("div",{className:"DueDate passed"},i.a.createElement(x.a,{fontSize:"small"}),i.a.createElement("p",null,this.props.item.due_date.format("L"))):null,i.a.createElement(k.b,{draggableId:this.props.item.id.toString(),index:this.props.index},(function(a,c){return i.a.createElement("div",Object.assign({className:"TodoItem isDragging_".concat(c.isDragging)},a.draggableProps,a.dragHandleProps,{ref:a.innerRef}),e,i.a.createElement("p",{className:n.props.item.done?"done":"undone",onClick:function(){return n.props.contentClicked(n.props.item.id)}},n.props.item.content),i.a.createElement("button",{type:"button",className:"editButton",onClick:function(){return n.props.editClicked(n.props.item.id)}},i.a.createElement("i",{className:"fa fa-bars"})),i.a.createElement("button",{type:"button",className:"closeButton",onClick:function(){return n.props.closeClicked(n.props.item.id,n.props.columnId)}},i.a.createElement("i",{className:"fa fa-close"})),i.a.createElement("div",{className:"break"}),t)}))}}]),n}(a.Component)),A=function(e){Object(h.a)(n,e);var t=Object(b.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return Object(f.a)(n,[{key:"render",value:function(){var e=this,t=this.props.items,n=Object.keys(t).map((function(n,a){return i.a.createElement(B,{columnId:e.props.column.id,key:t[n].id,item:t[n],contentClicked:e.props.contentClicked,editClicked:e.props.editClicked,closeClicked:e.props.closeClicked,index:a})}));return i.a.createElement("div",{className:"Column"},i.a.createElement(y,{itemNum:this.props.items.length},i.a.createElement("h3",null,this.props.column.title)),i.a.createElement(C,{value:this.props.column.itemToSubmit.content,inputChanged:function(t){return e.props.formInputChanged(t,e.props.column.id)},submitted:function(t){return e.props.submitted(t,e.props.column.id)}}),i.a.createElement(k.c,{droppableId:this.props.column.id},(function(e,t){return i.a.createElement("div",Object.assign({ref:e.innerRef},e.droppableProps),i.a.createElement(I,null,n),e.placeholder)})))}}]),n}(a.Component),L=(n(174),n(149)),z=(n(283),function(e){var t,n=e.item,a=e.itemTypes.map((function(e){return n.type===e?i.a.createElement("option",{key:e,value:e,selected:"selected"},e):i.a.createElement("option",{key:e,value:e},e)}));return t=e.item.due_date?e.item.due_date:null,i.a.createElement("div",{className:"TodoItemSummary"},i.a.createElement("form",null,i.a.createElement("label",null,"\u5185\u5bb9\uff1a"),i.a.createElement("input",{value:e.item.content,onChange:e.itemSummaryContentChanged})),i.a.createElement("form",null,i.a.createElement("label",null,"\u7c7b\u522b\uff1a"),i.a.createElement("select",{onChange:e.itemSummaryTypeChanged},a)),i.a.createElement("div",{className:"DueDatePick"},i.a.createElement("p",null,"\u622a\u6b62\u65e5\u671f: "),i.a.createElement(L.SingleDatePicker,{date:t,onDateChange:function(t){return e.itemDueDateChanged(t,n.id)},focused:e.dueDatePickFocused,onFocusChange:function(t){var n=t.focused;return e.itemDueDateFocusChanged({focused:n})},id:"date_input"})),i.a.createElement("button",{type:"button",className:"saveButton",onClick:function(){return e.saveClicked(e.item)}},"\u786e\u5b9a"),i.a.createElement("button",{type:"button",className:"cancelButton",onClick:function(){return e.cancelClicked()}},"\u53d6\u6d88"))}),J=(n(284),function(e){return i.a.createElement("div",{className:"Modal",style:{transform:e.show?"translateY(0)":"translateY(-100vh)",opacity:e.show?"1":"0"}},e.children)}),M=function(e){Object(h.a)(n,e);var t=Object(b.a)(n);function n(){var e;Object(p.a)(this,n);for(var a=arguments.length,i=new Array(a),c=0;c<a;c++)i[c]=arguments[c];return(e=t.call.apply(t,[this].concat(i))).state=g,e.onDragEnd=function(t){var n=t.destination,a=t.source,i=t.draggableId;if(n&&(n.droppableId!==a.droppableId||n.index!==a.index))if(n.droppableId===a.droppableId){var c=e.state.columns[a.droppableId],r=Array.from(c.taskIds);r.splice(a.index,1),r.splice(n.index,0,i);var l=Object(u.a)(Object(u.a)({},c),{},{taskIds:r}),o=Object(u.a)(Object(u.a)({},e.state),{},{columns:Object(u.a)(Object(u.a)({},e.state.columns),{},Object(d.a)({},l.id,l))});e.setState(o)}else{var s,m=e.state.columns[a.droppableId],p=e.state.columns[n.droppableId],f=Array.from(m.taskIds),h=Array.from(p.taskIds);f.splice(a.index,1),h.splice(n.index,0,i);var b=Object(u.a)(Object(u.a)({},m),{},{taskIds:f}),E=Object(u.a)(Object(u.a)({},p),{},{taskIds:h}),v=Object(u.a)(Object(u.a)({},e.state),{},{columns:Object(u.a)(Object(u.a)({},e.state.columns),{},(s={},Object(d.a)(s,b.id,b),Object(d.a)(s,E.id,E),s))});e.setState(v)}},e.formInputChangeHandler=function(t,n){var a=e.state.columns,i=Object(u.a)({},a[n]),c={id:null,created_timestamp:null,content:t.target.value,done:!1};i.itemToSubmit=c,a[n]=i,e.setState({columns:a})},e.addItemHandler=function(t,n){t.preventDefault();var a=e.state.columns,i=Object(u.a)({},a[n]),c=i.itemToSubmit;if(c.content){var r=Object(u.a)({},e.state.items),l=Date.now().toString(),o={id:l,created_timestamp:l,content:c.content,done:!1};i.taskIds.push(o.id),a[n]=i,r[l]=o,e.setState({items:r,columns:a})}},e.removeItemHandler=function(t,n){var a=Object(u.a)({},e.state.items);delete a[t];var i=e.state.columns,c=Object(u.a)({},i[n]),r=c.taskIds.filter((function(e){return e!==t}));c.taskIds=r,i[n]=c,console.log(i),e.setState({items:a,columns:i})},e.editItemHandler=function(t){var n=Object(u.a)({},e.state.items)[t];e.setState({editingItem:!0,itemUnderEditing:Object(u.a)({},n)})},e.revertItemDoneHandler=function(t){var n=Object(u.a)({},e.state.items),a=n[t];a.done=!a.done,e.setState({items:n})},e.itemSummaryContentChangeHandler=function(t){var n=e.state.itemUnderEditing;n.content=t.target.value,e.setState({itemUnderEditing:n})},e.itemSummaryTypeChangeHandler=function(t){var n=e.state.itemUnderEditing,a=Object(u.a)(Object(u.a)({},n),{},{type:t.target.value});e.setState({itemUnderEditing:a})},e.itemDueDateChangeHandler=function(t,n){var a=e.state.itemUnderEditing,i=Object(u.a)(Object(u.a)({},a),{},{due_date:t});e.setState({itemUnderEditing:i})},e.itemDueDateFocusChangeHandler=function(t){var n=t.focused;e.setState({dueDatePickFocused:n})},e.editItemSaveHandler=function(t){var n=Object(u.a)({},e.state.items);n[t.id]=t,e.setState({items:n,editingItem:!1,itemUnderEditing:{}})},e.editItemCancelHandler=function(){e.setState({editingItem:!1,itemUnderEditing:{}})},e}return Object(f.a)(n,[{key:"render",value:function(){var e=this,t=this.state.columnOrder.map((function(t){var n=e.state.columns[t],a=n.taskIds.map((function(t){return e.state.items[t]}));return i.a.createElement(A,{key:n.id,column:n,formInputChanged:e.formInputChangeHandler,submitted:e.addItemHandler,items:a,contentClicked:e.revertItemDoneHandler,editClicked:e.editItemHandler,closeClicked:e.removeItemHandler})}));return i.a.createElement("div",{className:"TodoListBuilder"},i.a.createElement(J,{show:this.state.editingItem},i.a.createElement(z,{itemTypes:this.state.itemTypes,item:this.state.itemUnderEditing,dueDatePickDate:this.state.dueDatePickDate,dueDatePickFocused:this.state.dueDatePickFocused,itemSummaryContentChanged:this.itemSummaryContentChangeHandler,itemSummaryTypeChanged:this.itemSummaryTypeChangeHandler,itemDueDateChanged:this.itemDueDateChangeHandler,itemDueDateFocusChanged:this.itemDueDateFocusChangeHandler,saveClicked:this.editItemSaveHandler,cancelClicked:this.editItemCancelHandler})),i.a.createElement(k.a,{onDragEnd:this.onDragEnd},t))}}]),n}(a.Component);var R=function(){return i.a.createElement("div",null,i.a.createElement(m,null,i.a.createElement(M,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(i.a.createElement(i.a.StrictMode,null,i.a.createElement(R,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[151,1,2]]]);
//# sourceMappingURL=main.69015d5b.chunk.js.map